(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{435:function(e,t,a){"use strict";a.r(t);var s=a(31),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"数据中台搭建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据中台搭建"}},[e._v("#")]),e._v(" 数据中台搭建")]),e._v(" "),a("h2",{attrs:{id:"egg服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#egg服务"}},[e._v("#")]),e._v(" egg服务")]),e._v(" "),a("h3",{attrs:{id:"config"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#config"}},[e._v("#")]),e._v(" config")]),e._v(" "),a("h3",{attrs:{id:"route"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#route"}},[e._v("#")]),e._v(" route")]),e._v(" "),a("h3",{attrs:{id:"middleware"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#middleware"}},[e._v("#")]),e._v(" middleware")]),e._v(" "),a("h3",{attrs:{id:"配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[e._v("#")]),e._v(" 配置文件")]),e._v(" "),a("p",[e._v("config/ 不可缺少")]),e._v(" "),a("h3",{attrs:{id:"阿里云k8s"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#阿里云k8s"}},[e._v("#")]),e._v(" 阿里云k8s")]),e._v(" "),a("p",[e._v("中台服务，通过公网域名访问java服务504，改成内部域名可行；")]),e._v(" "),a("blockquote",[a("h4",{attrs:{id:"helper-assets-getscript-umi-js-获取的文件名-每次重新部署都不更新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#helper-assets-getscript-umi-js-获取的文件名-每次重新部署都不更新"}},[e._v("#")]),e._v(" helper.assets.getScript('umi.js') 获取的文件名，每次重新部署都不更新")]),e._v(" "),a("p",[e._v("umi项目打包配置不完整，导致dist文件夹里的publicPath未配好")])]),e._v(" "),a("p",[e._v("umi 打包配置\negg 部署流程 - 如何配置静态资源")]),e._v(" "),a("ul",[a("li",[a("blockquote",[a("h3",{attrs:{id:"lifecycle-undefined-undefined-postinstall-undefined-undefined"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lifecycle-undefined-undefined-postinstall-undefined-undefined"}},[e._v("#")]),e._v(" lifecycle undefined@undefined~postinstall: undefined@undefined")]),e._v(" "),a("p",[e._v("package.json里需要配置name属性，一般发布npm包时必填，本地项目一般不要求，出现上述问题时，加上name属性能解决")])])]),e._v(" "),a("li",[a("blockquote",[a("h3",{attrs:{id:"nodejs-responsetimeouterror-response-timeout-for-5000ms"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nodejs-responsetimeouterror-response-timeout-for-5000ms"}},[e._v("#")]),e._v(" nodejs.ResponseTimeoutError: Response timeout for 5000ms,")]),e._v(" "),a("p",[e._v("egg内置了"),a("a",{attrs:{href:"https://eggjs.org/zh-cn/core/httpclient.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("HttpClient"),a("OutboundLink")],1),e._v("，app.curl/ctx.curl的timeout默认5000，可手动配置")])])]),e._v(" "),a("li",[a("blockquote",[a("h3",{attrs:{id:"readiness-probe-failed-get-http-10-10-30-159-15021-healthz-ready-dial-tcp-10-10-30-159-15021-connect-connection-refused"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#readiness-probe-failed-get-http-10-10-30-159-15021-healthz-ready-dial-tcp-10-10-30-159-15021-connect-connection-refused"}},[e._v("#")]),e._v(" Readiness probe failed: Get http://10.10.30.159:15021/healthz/ready: dial tcp 10.10.30.159:15021: connect: connection refused")]),e._v(" "),a("h3",{attrs:{id:"阿里云部署应用-pod信息报错"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#阿里云部署应用-pod信息报错"}},[e._v("#")]),e._v(" 阿里云部署应用-Pod信息报错")])])])])])}),[],!1,null,null,null);t.default=r.exports}}]);